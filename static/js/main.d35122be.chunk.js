(this["webpackJsonpkode-task-2"]=this["webpackJsonpkode-task-2"]||[]).push([[0],{15:function(e,a,t){e.exports={PokemonCard:"PokemonCard_PokemonCard__1s4yf",PokemonCard__Img:"PokemonCard_PokemonCard__Img__1H1z2",PokemonCard__Title:"PokemonCard_PokemonCard__Title__tAp1F",PokemonCard__Disc:"PokemonCard_PokemonCard__Disc__2xPlr"}},20:function(e,a,t){e.exports={FormControl:"FormControl_FormControl__eLwUK",Disabled:"FormControl_Disabled__afXch"}},23:function(e,a,t){e.exports={Home:"Home_Home__3dgv3",PokemonList:"Home_PokemonList__1pQIH"}},24:function(e,a,t){e.exports={NotFound:"NotFound_NotFound__11nQW",NotFound__Info:"NotFound_NotFound__Info__1zBtj"}},36:function(e,a,t){e.exports={App:"App_App__3IkS8"}},37:function(e,a,t){e.exports={Auth:"Auth_Auth__3KSdX"}},38:function(e,a,t){e.exports={Message:"Message_Message__3AhHS"}},39:function(e,a,t){e.exports={Header:"Header_Header__3n5oN"}},41:function(e,a,t){e.exports=t.p+"static/media/pokemon-not-found.d51f9f9b.jpg"},42:function(e,a,t){e.exports=t.p+"static/media/arrow.2090aecc.svg"},43:function(e,a,t){e.exports=t.p+"static/media/pikachu.8bc686b1.gif"},45:function(e,a,t){e.exports=t(75)},50:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(35),c=t.n(r),l=(t(50),t(36)),i=t.n(l),s=t(7),u=t.n(s),m=t(12),d=t.n(m),p=t(16),g=t(4),f=t(11),_=t.n(f);function b(){}var k=o.a.createContext({auth:b,token:null,login:b,logout:b}),h=t(1),v=t(18),E=t(10),C=t(37),x=t.n(C),S=t(20),P=t.n(S),j=function(e){var a=e.placeholder,t=void 0===a?"Placeholder":a,n=e.id,r=e.name,c=e.type,l=void 0===c?"text":c,i=e.label,s=void 0===i?"Label":i,m=e.value,d=void 0===m?"":m,p=e.disabled,g=void 0!==p&&p,f=e.onChange;return o.a.createElement("div",{className:u()(P.a.FormControl,g&&P.a.Disabled)},o.a.createElement("label",{htmlFor:n},s),o.a.createElement("input",{id:n,name:r,type:l,placeholder:t,value:d,disabled:g,onChange:f}))},y=t(38),N=t.n(y),w=function(e){var a=e.message,t=e.background,n=void 0===t?"":t,r=e.color,c={background:n,color:void 0===r?"":r};return o.a.createElement("div",{className:N.a.Message,style:c},a)},I=t(39),O=t.n(I),F=t(8),H=function(){var e=Object(n.useContext)(k).logout;return o.a.createElement("div",{className:u()(O.a.Header,"container")},o.a.createElement(h.b,{path:"/:id"},o.a.createElement(F.b,{to:"/"},"< Back")),o.a.createElement("button",{type:"button",onClick:e},"Logout"))},A=t(15),T=t.n(A),D=t(41),L=t.n(D),U=function(e){var a=e.imageUrl,t=void 0===a?L.a:a,n=e.name,r=void 0===n?"Pokemon name":n,c=e.artist,l=void 0===c?"artist":c,i=e.id;return o.a.createElement("li",{className:T.a.PokemonCard},o.a.createElement(F.b,{to:"/pokemon/".concat(i)},o.a.createElement("div",{className:T.a.PokemonCard__Img,style:{backgroundImage:"url(".concat(t,")")}}),o.a.createElement("h2",{className:T.a.PokemonCard__Title},r),o.a.createElement("p",{className:T.a.PokemonCard__Disc},l)))},M=t(42),z=t.n(M),B=function(){var e=o.a.useContext(k),a=e.auth,t=e.login,n=o.a.useState({email:"",password:""}),r=Object(g.a)(n,2),c=r[0],l=r[1],i=o.a.useState(!1),s=Object(g.a)(i,2),u=s[0],m=s[1],d=o.a.useState(!1),p=Object(g.a)(d,2),f=p[0],_=p[1],b=o.a.useState(!1),h=Object(g.a)(b,2),C=h[0],S=h[1],P=o.a.useState(null),y=Object(g.a)(P,2),N=y[0],I=y[1],O=function(e){l(Object(E.a)(Object(E.a)({},c),{},Object(v.a)({},e.target.name,e.target.value)))},F=o.a.createElement(j,{label:"Code from SMS",id:"confirmation",name:"confirmation",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0438\u0437 SMS...",value:c.confirmation,disabled:u,onChange:O}),H=o.a.createElement(o.a.Fragment,null,o.a.createElement(j,{label:"E-mail",id:"email",name:"email",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-mail...",value:c.email,disabled:u,onChange:O}),o.a.createElement(j,{label:"Password",id:"password",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c...",value:c.password,disabled:u,onChange:O}));return o.a.createElement("div",{className:x.a.Auth},o.a.createElement("form",null,f?F:H,C&&o.a.createElement(w,{background:"red",color:"white",message:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435..."}),o.a.createElement("button",{type:"submit",disabled:u,style:{backgroundImage:"url(".concat(z.a,")")},onClick:function(e){if(e.preventDefault(),m(!0),S(!1),f)"123456"===c.confirmation?(m(!1),t(N)):(m(!1),S(!0));else{var n=Object(E.a)(Object(E.a)({},c),{},{returnSecureToken:!0});a(n).then((function(e){m(!1),200===e.status&&(I(Object(E.a)({},e)),_(!0),l({confirmation:""}))})).catch((function(e){console.log(e),S(!0),m(!1)}))}}})))},R=t(44),X=t(23),K=t.n(X),Q=function(){var e=o.a.useState([]),a=Object(g.a)(e,2),t=a[0],n=a[1],r=o.a.useState(1),c=Object(g.a)(r,2),l=c[0],i=c[1];return o.a.useEffect(Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.a.get("https://api.pokemontcg.io/v1/cards?artist=Ryo_Ueda&page=".concat(l,"&pageSize=10")).then((function(e){console.log(e),n(Object(R.a)(e.data.cards))})),e.next=3,fetch("https://api.pokemontcg.io/v1/cards?artist=Ryo_Ueda&page=${count}&pageSize=10",{headers:{"Content-Type":"text/plain","Content-Length":"text/plain","X-Custom-Header":"ProcessThisImmediately"}});case 3:return a=e.sent,console.log(a),e.next=7,a.json();case 7:t=e.sent,console.log(t);case 9:case"end":return e.stop()}}),e)}))),[l]),o.a.createElement("div",{className:u()(K.a.Home,"container")},o.a.createElement("aside",{onClick:function(){i(l+1)}}),o.a.createElement("ul",{className:K.a.PokemonList},t.map((function(e){var a=e.imageUrl,t=e.name,n=e.artist,r=e.id;return o.a.createElement(U,{key:"".concat(t,"_").concat(r),imageUrl:a,name:t,artist:n,id:r})}))))},W=(t(74),function(e){var a=e.match,t=o.a.useState({}),n=Object(g.a)(t,2),r=n[0],c=n[1];return console.log(a),o.a.useEffect((function(){_.a.get("https://api.pokemontcg.io/v1/cards/".concat(a.params.id)).then((function(e){console.log(e),c(Object(E.a)({},e.data.card))}))}),[]),o.a.createElement("div",null,o.a.createElement("img",{src:r.imageUrl,alt:"gdfgfd"}),r.name)}),J=t(24),$=t.n(J),q=t(43),G=t.n(q),V=function(){return o.a.createElement("div",{className:$.a.NotFound,style:{backgroundImage:"url(".concat(G.a,")")}},o.a.createElement("div",{className:$.a.NotFound__Info},o.a.createElement("h1",null,"404"),o.a.createElement("p",null,"\u041a\u0430\u043a \u041f\u0438\u043a\u0430\u0447\u0443 \u043d\u0435 \u0441\u0442\u0430\u0440\u0430\u043b\u0441\u044f, \u043e\u043d \u043d\u0435 \u0441\u043c\u043e\u0433 \u043d\u0430\u0439\u0442\u0438 \u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443..."),o.a.createElement(F.b,{to:"/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))};var Y=function(){var e=function(){var e=o.a.useState(null),a=Object(g.a)(e,2),t=a[0],n=a[1];o.a.useEffect((function(){var e=localStorage.getItem("tokenLifeSpan");(new Date).toString()>e?c():n(localStorage.getItem("authToken"))}),[]);var r=o.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var a=new Date((new Date).getTime()+1e3*+e.data.expiresIn).toString();n(e.data.idToken),localStorage.setItem("authToken",e.data.idToken),localStorage.setItem("tokenLifeSpan",a)}else localStorage.clear()}),[]),c=o.a.useCallback((function(){r(null),n(null)}),[]);return{auth:o.a.useCallback(function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBbWQUFTxafb_R3bFw8Cj5RXsE_fKlSB4E",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[]),token:t,login:r,logout:c}}(),a=e.auth,t=e.token,n=e.login,r=e.logout,c=!!t,l=function(e){return e?o.a.createElement(h.d,null,o.a.createElement(h.b,{path:"/",exact:!0,component:Q}),o.a.createElement(h.b,{path:"/pokemon/:id",exact:!0,component:W}),o.a.createElement(h.b,{path:"/404",exact:!0,component:V}),o.a.createElement(h.a,{to:"/"})):o.a.createElement(h.d,null,o.a.createElement(h.b,{path:"/auth",exact:!0},o.a.createElement(B,null)),o.a.createElement(h.a,{to:"/auth"}))}(c);return console.log(c),o.a.createElement(k.Provider,{value:{auth:a,isAuth:c,login:n,logout:r}},o.a.createElement("div",{className:u()(i.a.App)},c&&o.a.createElement(H,null),l))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F.a,null,o.a.createElement(Y,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d35122be.chunk.js.map